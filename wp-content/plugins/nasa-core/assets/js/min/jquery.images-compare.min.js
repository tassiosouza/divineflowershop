function nasa_init_compare_images(a){a(".nasa-compare-images").length&&a(".nasa-compare-images").each(function(){var t=a(this);if(!a(t).hasClass("nasa-inited")){var e=a(t).find(".before-img"),n=a(e).attr("class"),i=a(e).attr("data-src"),r=a(e).attr("data-width"),o=a(e).attr("data-height"),c=a(e).attr("data-alt");a(e).replaceWith('<img class="'+n+'" src="'+i+'" width="'+r+'" height="'+o+'" alt="'+c+'" />');var s=a(t).find(".after-img"),n=a(s).attr("class"),i=a(s).attr("data-src"),r=a(s).attr("data-width"),o=a(s).attr("data-height"),c=a(s).attr("data-alt");a(s).replaceWith('<img class="'+n+'" src="'+i+'" width="'+r+'" height="'+o+'" alt="'+c+'" />'),a(t).addClass("nasa-inited"),a(t).imagesCompare()}})}!function(a,t){"use strict";function e(a,t){return String.prototype.repeat?a.repeat(t):(t=t||1,new Array(t+1).join(a))}function n(n,o){function c(){function t(){r>=i&&s()}var e=n.find("img"),i=e.length,r=0;e.each(function(){a(this)[0].complete?(i--,t()):(a(this).on("load",function(){r++,t()}),a(this).on("error",function(){r++,t()}))})}function s(){v(),x(),u(),a(F).attr("ratio",o.initVisibleRatio),M(o.initVisibleRatio),n.trigger({type:L.initialised})}function d(){a(t).on("resize",function(a){F.css("clip",""),x(),M(z),n.trigger({type:L.resized,originalEvent:a})})}function u(){switch(o.interactionMode=o.interactionMode.toLowerCase(),"drag"!=o.interactionMode&&"mousemove"!=o.interactionMode&&"click"!=o.interactionMode&&console.warn('No valid interactionMode found, valid values are "drag", "mousemove", "click"'),o.interactionMode){case"drag":f();break;case"mousemove":m();break;case"click":p();break;default:f()}}function f(){"undefined"==typeof Hammer&&console.error("Please include the hammerjs library for drag support"),l(),d()}function m(){h(),d()}function p(){g(),d()}function g(){n.on("click",function(a){var t=_(a.pageX);M(t)})}function h(){var a=0,t=1;n.on("mousemove",function(e){e.preventDefault();var n=Date.now();if(n>a+t){a=n;var i=_(e.pageX);M(i)}}),n.on("mouseout",function(a){var t=_(a.pageX);M(t)})}function l(){var a=new Hammer(n[0]);a.get("pan").set({direction:Hammer.DIRECTION_HORIZONTAL}),a.on("pan",function(a){var t=_(a.srcEvent.pageX);M(t)})}function v(){n.addClass("images-compare-container"),n.css("display","inline-block"),F=n.find("> *:nth-child(1)"),R=n.find("> *:nth-child(2)"),F.addClass("images-compare-before"),F.css("display","block"),R.addClass("images-compare-after"),R.css("display","block"),o.addDragHandle&&y(),o.addSeparator&&w()}function w(){n.prepend("<div class='images-compare-separator'></div>"),S=n.find(".images-compare-separator")}function y(){n.prepend("<div class='images-compare-handle'></div>"),V=n.find(".images-compare-handle"),V.append("<span class='images-compare-left-arrow'></span>"),V.append("<span class='images-compare-right-arrow'></span>")}function x(){var a=R.find("img").first();k(a.width(),a.height(),a.naturalWidth(),a.naturalHeight()),n.css("max-width",I.maxWidth+"px"),n.css("max-height",I.maxHeight+"px"),F.width(I.width),F.height(I.height)}function _(a){return C((a-n.offset().left)/F.width())}function C(a){return a=Math.round(a*o.roundFactor)/o.roundFactor,a>1&&(a=1),0>a&&(a=0),a}function b(t,e,i,r){a(F).attr("ratio",t).animate({ratio:t},{duration:0}),a(F).stop().attr("ratio",t).animate({ratio:e},{duration:i,easing:r,step:function(a){var t=H(a);z=a,F.attr("ratio",a).css("clip","rect(0, "+t+"px, "+I.height+"px, 0)"),o.addSeparator&&S.css("left",t+"px"),o.addDragHandle&&V.css("left",t+"px")},done:function(t,e){var i=a(F).attr("ratio");n.trigger({type:L.changed,ratio:i,value:H(i),animate:!0,animation:t,jumpedToEnd:e})}})}function H(a){return a=Math.round(a*o.roundFactor)/o.roundFactor,Math.round(F.width()*a)}function M(t,e,i,r){"undefined"==typeof e&&(e=!1);var c=H(t);if(e){var s=i?i:o.animationDuration,d=r?r:o.animationEasing;return b(z,t,s,d),z!=t&&n.trigger({type:L.changed,ratio:z,value:c,animate:e}),void 0}F.stop().css("clip","rect(0, "+c+"px, "+I.height+"px, 0)"),o.addSeparator&&a(S).stop().css("left",c+"px"),o.addDragHandle&&V.css("left",c+"px"),z!=t&&n.trigger({type:L.changed,ratio:t,value:c,animate:e}),z=t}function k(a,t,e,n){return"undefined"!=typeof a&&D(a),"undefined"!=typeof t&&W(t),"undefined"!=typeof e&&E(e),"undefined"!=typeof n&&j(n),I}function D(a){return I.width=a,I}function E(a){return I.maxWidth=a,I}function W(a){return I.height=a,I}function j(a){return I.maxHeight=a,I}n=a(n),o=a.extend({},r,o),o.roundFactor=parseInt("1"+e("0",o.precision)),this._name=i;var F,R,S,V,z=1,I={width:0,height:0,maxWidth:0,maxHeight:0},L={initialised:"imagesCompare:initialised",changed:"imagesCompare:changed",resized:"imagesCompare:resized"};return c(),{setValue:function(a,t,e,i){return M(a,t,e,i),n},getValue:function(){return z},on:function(a,t){return n.on(a,t),n},off:function(a,t){return n.off(a,t),n},events:function(){return L}}}var i="imagesCompare",r={initVisibleRatio:.5,interactionMode:"drag",animationDuration:400,animationEasing:"swing",addSeparator:!0,addDragHandle:!0,precision:4};a.fn.imagesCompare=function(t){var e=a.extend(r,t);return this.each(function(){a.data(this,i)||a.data(this,i,new n(this,e))})}}(jQuery,window,document),function(a){var t,e,n=["Width","Height"];e=n.length;for(var i=0;e>i;i++)t=n[i],function(t,e){a.fn[t]=t in document.createElement("img")?function(){return this[0][t]}:function(){var a,t=this[0],n=0;return"img"===t.tagName.toLowerCase()&&(a=document.createElement("img"),a.src=t.src,n=a[e]),n}}("natural"+t,t.toLowerCase())}(jQuery),jQuery(document).ready(function(a){"use strict";nasa_init_compare_images(a),a("body").on("nasa_init_compare_images",function(){nasa_init_compare_images(a)}),a("body").on("nasa_rendered_template",function(){nasa_init_compare_images(a)})});