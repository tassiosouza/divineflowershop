!function(e){"use strict";e.ThreeSixty=function(a,r){var t,n=this,o=[];n.$el=e(a),n.el=a,n.$el.data("ThreeSixty",n),n.init=function(){t=e.extend({},e.ThreeSixty.defaultOptions,r),t.disableSpin&&(t.currentFrame=1,t.endFrame=1),n.initProgress(),n.loadImages()},n.resize=function(){},n.initProgress=function(){n.$el.css({width:t.width+"px",height:t.height+"px","background-image":"none !important"}),t.styles&&n.$el.css(t.styles),n.responsive(),n.$el.find(t.progress).css({marginTop:t.height/2-15+"px"}),n.$el.find(t.progress).fadeIn("slow"),n.$el.find(t.imgList).hide()},n.loadImages=function(){var a,r,i,s;a=document.createElement("li"),s=t.zeroBased?0:1,r=t.imgArray?t.imgArray[t.loadedImages]:t.domain+t.imagePath+t.filePrefix+n.zeroPad(t.loadedImages+s)+t.ext+(n.browser.isIE()?"?"+(new Date).getTime():""),i=e("<img>").attr("src",r).addClass("previous-image").appendTo(a),o.push(i),n.$el.find(t.imgList).append(a),e(i).on("load",function(){n.imageLoaded()})},n.imageLoaded=function(){t.loadedImages+=1,e(t.progress+" span").text(Math.floor(t.loadedImages/t.totalFrames*100)+"%"),t.loadedImages>=t.totalFrames?(t.disableSpin&&o[0].removeClass("previous-image").addClass("current-image"),e(t.progress).fadeOut("slow",function(){e(this).hide(),n.showImages(),n.showNavigation()})):n.loadImages()},n.showImages=function(){n.$el.find(".txtC").fadeIn(),n.$el.find(t.imgList).fadeIn(),n.ready=!0,t.ready=!0,t.drag&&n.initEvents(),n.refresh(),n.initPlugins(),t.onReady(),setTimeout(function(){n.responsive()},50)},n.initPlugins=function(){e.each(t.plugins,function(a,r){if("function"!=typeof e[r])throw new Error(r+" not available.");e[r].call(n,n.$el,t)})},n.showNavigation=function(){if(t.navigation&&!t.navigation_init){var a,r,o,i;a=e("<div/>").attr("class","nav_bar"),r=e("<a/>").attr({href:"#","class":"nav_bar_next"}).html('<svg width="42" height="45" viewBox="0 0 32 32" fill="currentColor"><path d="M19.159 16.767l0.754-0.754-6.035-6.035-0.754 0.754 5.281 5.281-5.256 5.256 0.754 0.754 3.013-3.013z" /></svg>'),o=e("<a/>").attr({href:"#","class":"nav_bar_previous"}).html('<svg width="42" height="45" viewBox="0 0 32 32" fill="currentColor"><path d="M12.792 15.233l-0.754 0.754 6.035 6.035 0.754-0.754-5.281-5.281 5.256-5.256-0.754-0.754-3.013 3.013z" /></svg>'),i=e("<a/>").attr({href:"#","class":"nav_bar_play"}).html("play"),a.append(o),a.append(i),a.append(r),n.$el.prepend(a),r.on("mousedown touchstart",n.next),o.on("mousedown touchstart",n.previous),i.on("mousedown touchstart",n.play_stop),t.navigation_init=!0}},n.play_stop=function(a){a.preventDefault(),t.autoplay?(t.autoplay=!1,e(a.currentTarget).removeClass("nav_bar_stop").addClass("nav_bar_play"),clearInterval(t.play),t.play=null):(t.autoplay=!0,t.play=setInterval(n.moveToNextFrame,t.playSpeed),e(a.currentTarget).removeClass("nav_bar_play").addClass("nav_bar_stop"))},n.next=function(e){e&&e.preventDefault(),t.endFrame-=5,n.refresh()},n.previous=function(e){e&&e.preventDefault(),t.endFrame+=5,n.refresh()},n.play=function(e,a){var r=e||t.playSpeed,o=a||t.autoplayDirection;t.autoplayDirection=o,t.autoplay||(t.autoplay=!0,t.play=setInterval(n.moveToNextFrame,r))},n.stop=function(){t.autoplay&&(t.autoplay=!1,clearInterval(t.play),t.play=null)},n.moveToNextFrame=function(){1===t.autoplayDirection?t.endFrame-=1:t.endFrame+=1,n.refresh()},n.gotoAndPlay=function(e){if(t.disableWrap)t.endFrame=e,n.refresh();else{var a=Math.ceil(t.endFrame/t.totalFrames);0===a&&(a=1);var r=a>1?t.endFrame-(a-1)*t.totalFrames:t.endFrame,o=t.totalFrames-r,i=0;i=e-r>0?e-r<r+(t.totalFrames-e)?t.endFrame+(e-r):t.endFrame-(r+(t.totalFrames-e)):o+e>r-e?t.endFrame-(r-e):t.endFrame+(o+e),r!==e&&(t.endFrame=i,n.refresh())}},n.initEvents=function(){n.$el.on("mousedown touchstart touchmove touchend mousemove click",function(e){e.preventDefault(),"mousedown"===e.type&&1===e.which||"touchstart"===e.type?(t.pointerStartPosX=n.getPointerEvent(e).pageX,t.dragging=!0,t.onDragStart(t.currentFrame)):"touchmove"===e.type?n.trackPointer(e):"touchend"===e.type&&(t.dragging=!1,t.onDragStop(t.endFrame))}),e(document).on("mouseup",function(){t.dragging=!1,t.onDragStop(t.endFrame),e(this).css("cursor","none")}),e(window).on("resize",function(){n.responsive()}),e(document).on("mousemove",function(e){t.dragging?(e.preventDefault(),!n.browser.isIE&&t.showCursor&&n.$el.css("cursor","url(assets/images/hand_closed.png), auto")):!n.browser.isIE&&t.showCursor&&n.$el.css("cursor","url(assets/images/hand_open.png), auto"),n.trackPointer(e)}),e(window).resize(function(){n.resize()})},n.getPointerEvent=function(e){return e.originalEvent.targetTouches?e.originalEvent.targetTouches[0]:e},n.trackPointer=function(e){t.ready&&t.dragging&&(t.pointerEndPosX=n.getPointerEvent(e).pageX,t.monitorStartTime<(new Date).getTime()-t.monitorInt&&(t.pointerDistance=t.pointerEndPosX-t.pointerStartPosX,t.endFrame=t.pointerDistance>0?t.currentFrame+Math.ceil((t.totalFrames-1)*t.speedMultiplier*(t.pointerDistance/n.$el.width())):t.currentFrame+Math.floor((t.totalFrames-1)*t.speedMultiplier*(t.pointerDistance/n.$el.width())),t.disableWrap&&(t.endFrame=Math.min(t.totalFrames-(t.zeroBased?1:0),t.endFrame),t.endFrame=Math.max(t.zeroBased?0:1,t.endFrame)),n.refresh(),t.monitorStartTime=(new Date).getTime(),t.pointerStartPosX=n.getPointerEvent(e).pageX))},n.refresh=function(){0===t.ticker&&(t.ticker=setInterval(n.render,Math.round(1e3/t.framerate)))},n.render=function(){var e;t.currentFrame!==t.endFrame?(e=t.endFrame<t.currentFrame?Math.floor(.1*(t.endFrame-t.currentFrame)):Math.ceil(.1*(t.endFrame-t.currentFrame)),n.hidePreviousFrame(),t.currentFrame+=e,n.showCurrentFrame(),n.$el.trigger("frameIndexChanged",[n.getNormalizedCurrentFrame(),t.totalFrames])):(window.clearInterval(t.ticker),t.ticker=0)},n.hidePreviousFrame=function(){o[n.getNormalizedCurrentFrame()].removeClass("current-image").addClass("previous-image")},n.showCurrentFrame=function(){o[n.getNormalizedCurrentFrame()].removeClass("previous-image").addClass("current-image")},n.getNormalizedCurrentFrame=function(){var e,a;return t.disableWrap?(e=Math.min(t.currentFrame,t.totalFrames-(t.zeroBased?1:0)),a=Math.min(t.endFrame,t.totalFrames-(t.zeroBased?1:0)),e=Math.max(e,t.zeroBased?0:1),a=Math.max(a,t.zeroBased?0:1),t.currentFrame=e,t.endFrame=a):(e=Math.ceil(t.currentFrame%t.totalFrames),0>e&&(e+=t.totalFrames-(t.zeroBased?1:0))),e},n.getCurrentFrame=function(){return t.currentFrame},n.responsive=function(){t.responsive&&n.$el.css({height:n.$el.find(".current-image").first().css("height"),width:n.$el.find(".current-image").first().css("width")})},n.zeroPad=function(e){function a(e,a){var r=e.toString();if(t.zeroPadding)for(;r.length<a;)r="0"+r;return r}var r=Math.log(t.totalFrames)/Math.LN10,n=1e3,o=Math.round(r*n)/n,i=Math.floor(o)+1;return a(e,i)},n.browser={},n.browser.isIE=function(){if("undefined"==typeof navigator.userAgentData)return!1;var e=-1;if("Microsoft Internet Explorer"===navigator.appName){var a=navigator.userAgent,r=new RegExp("MSIE ([0-9]{1,}[\\.0-9]{0,})");null!==r.exec(a)&&(e=parseFloat(RegExp.$1))}return-1!==e},n.getConfig=function(){return t},e.ThreeSixty.defaultOptions={dragging:!1,ready:!1,pointerStartPosX:0,pointerEndPosX:0,pointerDistance:0,monitorStartTime:0,monitorInt:10,ticker:0,speedMultiplier:7,totalFrames:180,currentFrame:0,endFrame:0,loadedImages:0,framerate:60,domains:null,domain:"",parallel:!1,queueAmount:8,idle:0,filePrefix:"",ext:"png",height:300,width:300,styles:{},navigation:!1,autoplay:!1,autoplayDirection:1,disableSpin:!1,disableWrap:!1,responsive:!1,zeroPadding:!1,zeroBased:!1,plugins:[],showCursor:!1,drag:!0,onReady:function(){},onDragStart:function(){},onDragStop:function(){},imgList:".threesixty_images",imgArray:null,playSpeed:100},n.init()},e.fn.ThreeSixty=function(a){return Object.create(new e.ThreeSixty(this,a))}}(jQuery),"function"!=typeof Object.create&&(Object.create=function(e){"use strict";function a(){}return a.prototype=e,new a}),jQuery(document).ready(function(e){"use strict";e("body").on("click",".nasa-360-degree-popup",function(){e("body").trigger("nasa_before_popup_360_degree"),e("body").trigger("ns_magnific_popup_close"),e(".black-window").fadeIn(400).addClass("desk-window");var a=e(".nasa-product-360-degree");e(a).addClass("ns-360-degree-ready"),setTimeout(function(){e(a).addClass("ns-actived")},20),e("body").hasClass("ovhd")||e("body").addClass("ovhd")}),e("body").on("click mousedown touchstart",".close-360-degree",function(){var a=e(".nasa-product-360-degree");e(a).addClass("ns-removing"),e(".black-window").fadeOut(400).removeClass("desk-window"),e("body").removeClass("ovhd"),setTimeout(function(){e(a).removeClass("ns-actived ns-removing ns-360-degree-ready")},400)}),e("body").on("nasa_before_popup_360_degree",function(){if(e("#nasa-360-degree").length&&e(".nasa-product-360-degree").find(".nasa-threesixty").length<=0){var a=[],r=JSON.parse(e("#nasa-360-degree").attr("data-imgs"));if(r&&e.each(r,function(e,r){a.push(r)}),a.length){var t=parseInt(e("#nasa-360-degree").attr("data-height")),n=parseInt(e("#nasa-360-degree").attr("data-width"));e(".nasa-threesixty-wrap").length<=0&&(e(".nasa-product-360-degree").append('<div class="nasa-threesixty"><a class="nasa-stclose close-360-degree" href="javascript:void(0);"></a><div class="spinner"><span>0%</span></div><ul class="nasa-threesixty_images"></ul></div>'),e(".nasa-threesixty").ThreeSixty({totalFrames:a.length,endFrame:a.length,currentFrame:1,imgList:".nasa-threesixty_images",progress:".spinner",imgArray:a,height:t,width:n,responsive:!0,navigation:!0}))}}})});