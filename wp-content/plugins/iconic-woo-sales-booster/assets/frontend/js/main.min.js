jQuery(function(o){if(window?.wc?.blocksCheckout){var t=wc.blocksCheckout.registerCheckoutFilters;let{sprintf:o,__:e}=wp.i18n;t("iconic-sales-booster",{itemName:(t,i,c)=>i?.iconic_sales_booster?.added_via_at_checkout_bump?o(e("(Offer) %s","iconic-wsb"),t):t})}o(document).on("change","[data-iconic-wsb-checkout-bump-trigger]",function(){var t;o(this).parents('[data-block-name="woocommerce/checkout"]').length&&wc?.blocksCheckout?.extensionCartUpdate&&(t={"bump-type":"at-checkout","iconic-wsb-bump-id":(t=o(this).siblings('input[type="hidden"]')).filter('[name="iconic-wsb-bump-id"]').val(),"iconic-wsb-checkout-bump-action":o(this).prop("checked")?"add":"remove","iconic-wsb-checkout-product-id":t.filter('[name="iconic-wsb-checkout-product-id"]').val(),"iconic-wsb-checkout-variation-id":t.filter('[name="iconic-wsb-checkout-variation-id"]').val(),"iconic-wsb-checkout-variation-data":t.filter('[name="iconic-wsb-checkout-variation-data"]').val()},o(".wp-block-woocommerce-checkout").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),wc.blocksCheckout.extensionCartUpdate({namespace:"iconic-sales-booster",data:t}).then(()=>{e.handleSwatchesLabel(),e.handleOverlay(),e.handleCheckbox(),o(".wp-block-woocommerce-checkout").unblock()}))}),wp.data.subscribe(()=>{wp.data.select("wc/store/checkout")?.isBeforeProcessing()&&o("[data-iconic-wsb-acb-modal]").length&&(wp.data.dispatch("wc/store/checkout").__internalSetIdle(),o.magnificPopup.open({items:{type:"inline",src:o("[data-iconic-wsb-acb-modal]")}}))},"wc/store/checkout"),o("[data-iconic-wsb-acb-add-to-cart-button]").on("click",function(t){window?.wc?.blocksCheckout&&(t.preventDefault(),t={"bump-type":"after-checkout","iconic-wsb-acb-action":"add","iconic-wsb-acb-bump-id":(t=o('.iconic-wsb-acb-fields input[type="hidden"]')).filter('[name="iconic-wsb-acb-bump-id"]').val(),"iconic-wsb-acb-variation-id":t.filter('[name="iconic-wsb-acb-variation-id"]').val(),"iconic-wsb-acb-variation-data":t.filter('[name="iconic-wsb-acb-variation-data"]').val()},wc.blocksCheckout.extensionCartUpdate({namespace:"iconic-sales-booster",data:t}).then(()=>{o.magnificPopup.close(),o("[data-iconic-wsb-acb-modal]").remove(),wp.data.dispatch("wc/store/checkout").__internalSetBeforeProcessing()}))}),o("[data-iconic-wsb-acb-close-button]").on("click",function(t){window?.wc?.blocksCheckout&&(t.preventDefault(),o.magnificPopup.close(),o("[data-iconic-wsb-acb-modal]").remove(),wp.data.dispatch("wc/store/checkout")?.__internalSetBeforeProcessing())}),o(document).on("change","[data-iconic-wsb-checkout-bump-trigger]",function(){var t=o("[name=iconic-wsb-checkout-bump-action]"),i=!0,c=o(this).closest(".iconic-wsb-checkout-bump");o(this).closest("form.checkout").length||(i=!1),o(this).prop("checked")?(t.val("add"),i||(c.find('input[name="iconic-wsb-bump-id"]').clone().appendTo("form.checkout"),c.find('input[name="iconic-wsb-checkout-bump-action"]').clone().appendTo("form.checkout"),c.find('input[name="iconic-wsb-checkout-product-id"]').clone().appendTo("form.checkout"),c.find('input[name="iconic-wsb-checkout-variation-id"]').clone().appendTo("form.checkout"),c.find('input[name="iconic-wsb-checkout-variation-data"]').clone().appendTo("form.checkout"))):t.val("remove"),o("body").trigger("update_checkout"),o(this).prop("checked")||i||setTimeout(function(){o('form.checkout input[name="iconic-wsb-bump-id"]').remove(),o('form.checkout input[name="iconic-wsb-checkout-bump-action"]').remove(),o('form.checkout input[name="iconic-wsb-checkout-product-id"]').remove(),o('form.checkout input[name="iconic-wsb-checkout-variation-id"]').remove(),o('form.checkout input[name="iconic-wsb-checkout-variation-data"]').remove()},500)});function c(){this.isBumpShowed=!1,this.isFormSubmited=!1,this.init=function(){this.$checkoutForm=o("form.checkout"),this.container="[data-iconic-wsb-acb-modal]",this.$bumpModal=o(this.container),this.$addToCartButton=o("[data-iconic-wsb-acb-add-to-cart-button]"),this.$closeButton=o("[data-iconic-wsb-acb-close-button]"),this.actionInputSelector="[name=iconic-wsb-acb-action]",this.$form=o(".iconic-wsb-after-checkout-bump-form"),this.variation_dropdown=".iconic-wsb-checkout-modal__select",this.variationHandler=new IconicVariationHandler(this.$form,this.container,this.onVariationFound.bind(this),this.onVariationNotFound.bind(this));0<this.$bumpModal.length&&(this.$checkoutForm.on("checkout_place_order.orderBump",this.openModal.bind(this)),this.$closeButton.on("click",this.close.bind(this)),this.$addToCartButton.on("click",function(t){t.preventDefault(),this.addToCartBump()}.bind(this)),o(this.container).on("change",this.variation_dropdown,this.variationHandler.getVariation.bind(this.variationHandler)),o(".wsb_select_readonly option:not(:selected)").prop("disabled",!0)),this.$form.addClass("variations_form"),this.$form.data("product_variations",!1)},this.close=function(){o.magnificPopup.close(),this.$checkoutForm.submit()},this.addToCartBump=function(){o(this.actionInputSelector).val("add"),this.$checkoutForm.trigger("update_checkout"),this.$checkoutForm.off("checkout_place_order.orderBump",this.openModal.bind(this)),o(document).ajaxComplete(function(t,i,c){c.url.includes("update_order_review")&&!0!==this.isFormSubmited&&(this.isFormSubmited=!0,this.$checkoutForm.submit())}.bind(this)),o.magnificPopup.close()},this.openModal=function(){if(o(this.container).length){if(!0===this.isBumpShowed)return!0;this.variationHandler.getVariation();var t={items:{src:this.$bumpModal,type:"inline"}},t=Object.assign(t,Object(iconic_wsb_frontend_vars&&iconic_wsb_frontend_vars.modal_options));return o.magnificPopup.open(t),!(this.isBumpShowed=!0)}},this.onVariationFound=function(t){this.$addToCartButton.attr("disabled",!1),this.$form.find(".iconic-wsb-checkout-modal-unavailable_msg").hide(),this.$form.find(".iconic-wsb-modal-product-offer__price").html(t.price_html),o("[name='iconic-wsb-acb-variation-id']").val(t.variation_id)},this.onVariationNotFound=function(){this.$addToCartButton.attr("disabled",!0),this.$form.find(".iconic-wsb-checkout-modal-unavailable_msg").slideDown(200),this.$form.find(".iconic-wsb-modal-product-offer__price").html(""),o("[name='iconic-wsb-acb-variation-id']").val("")}}var i=new c,e=new function(){this.allVariationSelectedFlag=null,this.$attributeFields=null,this.$woocommerceWrapper=o('.page.woocommerce-checkout, [data-block-name="woocommerce/checkout"]'),this.container=".iconic-wsb-checkout-bump",this.variation_dropdown=".iconic-wsb-checkout-bump__select",this.init=function(){var t=this;t.variationHandler=new IconicVariationHandler(t.$woocommerceWrapper,this.container,this.onVariationFound.bind(t),this.onVariationNotFound.bind(t)),o(t.$woocommerceWrapper).on("change",this.variation_dropdown,this.variationHandler.getVariation.bind(this.variationHandler)),o(t.$woocommerceWrapper).on("change",this.variation_dropdown,this.handleCheckbox.bind(this)),t.product_type=t.$woocommerceWrapper.find(".iconic-wsb-checkout-bump").data("product_type"),"variable"===t.product_type&&(t.$woocommerceWrapper.find(".iconic-wsb-checkout-bump__select").length&&t.$woocommerceWrapper.find(".iconic-wsb-checkout-bump__header-checkbox").attr("disabled",!t.variationHandler.checkAllSelects.bind(t.variationHandler)),t.handleSwatchesLabel(),t.handleOverlay(),t.handleCheckbox()),o(document.body).on("updated_checkout",function(){t.product_type=t.$woocommerceWrapper.find(".iconic-wsb-checkout-bump").data("product_type"),"variable"===t.product_type&&(t.$woocommerceWrapper.find("[name=iconic-wsb-checkout-variation-id]").length&&""===o("[name=iconic-wsb-checkout-variation-id]").val()&&t.variationHandler.getVariation(!1),t.$woocommerceWrapper.find(".iconic-wsb-checkout-bump__select").length&&t.$woocommerceWrapper.find(".iconic-wsb-checkout-bump__header-checkbox").attr("disabled",!t.variationHandler.checkAllSelects.bind(t.variationHandler)),t.handleSwatchesLabel(),t.handleOverlay(),t.handleCheckbox()),o(".wsb_select_readonly option:not(:selected)").prop("disabled",!0)}),this.$woocommerceWrapper.addClass("variations_form"),this.$woocommerceWrapper.data("product_variations",!1),o("form.checkout .iconic-wsb-checkout-bump").length||o(".iconic-wsb-checkout-bump__header-checkbox").prop("checked")&&(this.$woocommerceWrapper.find('input[name="iconic-wsb-bump-id"]').clone().appendTo("form.checkout"),this.$woocommerceWrapper.find('input[name="iconic-wsb-checkout-bump-action"]').clone().appendTo("form.checkout"),this.$woocommerceWrapper.find('input[name="iconic-wsb-checkout-product-id"]').clone().appendTo("form.checkout"),this.$woocommerceWrapper.find('input[name="iconic-wsb-checkout-variation-id"]').clone().appendTo("form.checkout"),this.$woocommerceWrapper.find('input[name="iconic-wsb-checkout-variation-data"]').clone().appendTo("form.checkout")),setTimeout(()=>{o(".iconic-wsb-variation__select.iconic-wsb-checkout-bump__select option").each(function(){o(this).attr("value",o(this).attr("data-value")||"")})},700)},this.onVariationFound=function(t){this.$woocommerceWrapper.find("[data-iconic-wsb-checkout-bump-trigger]").attr("disabled",!1),this.$woocommerceWrapper.find(".iconic-wsb-checkou-bump_unavailable_msg").hide()},this.onVariationNotFound=function(){this.$woocommerceWrapper.find("[data-iconic-wsb-checkout-bump-trigger]").attr("disabled",!0),this.$woocommerceWrapper.find(".iconic-wsb-checkou-bump_unavailable_msg").slideDown(200)},this.handleOverlay=function(){this.$woocommerceWrapper.find("[data-iconic-wsb-checkout-bump-trigger]").prop("checked")?(this.$woocommerceWrapper.find(".iconic-wsb-checkout-bump").addClass("iconic-wsb-checkout-bump__overlay_active"),this.$woocommerceWrapper.find(".iconic-wsb-checkout-bump__overlay").show()):(this.$woocommerceWrapper.find(".iconic-wsb-checkout-bump").removeClass("iconic-wsb-checkout-bump__overlay_active"),this.$woocommerceWrapper.find(".iconic-wsb-checkout-bump__overlay").hide())},this.handleSwatchesLabel=function(){this.$woocommerceWrapper.find(".iconic-was-swatches").length&&this.$woocommerceWrapper.find(".iconic-wsb-variation__select").each(function(){var t,i;jQuery(this).val()&&(i=(t=jQuery(this).closest("tr")).find("td.label label .iconic-was-chosen-attribute").html())&&""===i.trim()&&(i=t.find(".iconic-was-swatch--selected").data("attribute-value-name"),t.find("td.label label .iconic-was-chosen-attribute").html(i))})},this.handleCheckbox=function(){var t=this.$woocommerceWrapper.find("[data-iconic-wsb-checkout-bump-trigger]");t.prop("checked")?t.attr("disabled",!1):this.$woocommerceWrapper.find("[data-iconic-wsb-checkout-bump-trigger]").attr("disabled",!this.variationHandler.checkAllSelects())}};o(document).ready(function(){var t;e.init(),iconic_wsb_frontend_vars?.is_checkout&&(t=wc_cart_fragments_params?.fragment_name)&&"string"==typeof t&&(t=sessionStorage.getItem(t))&&((t=JSON.parse(t))[".iconic_wsb_after_add_to_cart_popup_placeholder"]=void 0,sessionStorage.setItem(wc_cart_fragments_params.fragment_name,JSON.stringify(t))),o('[data-block-name="woocommerce/checkout"]').length||(i.init(),o(document).on("updated_checkout",function(t,i){i.fragments&&i.fragments[".iconic-wsb-modal"]&&(new c).init()}))})}),jQuery(function(r){var c=new function(){this.init=function(){this.$bumpModal=r("[data-iconic-wsb-acc-modal-bump]"),this.$closeButton=r("[data-iconic-wsb-close-aac-modal]"),this.$variation_wrap=jQuery(this.$bumpModal.selector+" .single_variation_wrap"),0<this.$bumpModal.length&&(this.$closeButton.on("click",this.close.bind(this)),this.$variation_wrap.on("show_variation",this.changeVariationImage),this.openModal())},this.changeVariationImage=function(t,i){var c;void 0!==i.image.thumb_src&&((c=r(this).closest("[data-iconic-wsb-acc-modal-bump-offer-product]").find("[data-iconic-wsb-acc-modal-bamp-offer-image]").find("img")).attr("srcset",""),c.attr("src",i.image.thumb_src))},this.close=function(){r.magnificPopup.close(),r("[data-iconic-wsb-acc-modal-bump]").remove()},this.openModal=function(){var t={items:{src:this.$bumpModal,type:"inline"}},t=Object.assign(t,Object(iconic_wsb_frontend_vars&&iconic_wsb_frontend_vars.modal_options));r.magnificPopup.open(t),r("[data-iconic-wsb-acc-modal-bump]").fadeIn(100)}},t=new function(){this.init=function(){r(".variations_form").on("found_variation",this.variationChangeHandle.bind(this)),r(".iconic-wsb-bump-product__select").change(function(t){this.toggleButtonStatus.bind(this)(),this.updateTotalPrice.bind(this)(),this.fetchVariationPrice.bind(t.target)(),this.updateAttributeData.bind(t.target)()}.bind(this)),r(".iconic-wsb-bump-product__checkbox").change(function(){this.updateTotalPrice(),this.toggleButtonStatus()}.bind(this)),this.toggleButtonStatus(),this.addToCartAjax(),this.toggleProductImages(),this.disableFormSubmitForDisabledButton()},this.updateAttributeData=function(){var t=r(this).data("product_id"),i=r(this).find("option:selected").data("attributes"),i="object"==typeof i?JSON.stringify(i):i;r("[name='iconic-wsb-bump-product_attributes-"+t+"']").val(i)},this.toggleButtonStatus=function(){var i=!0,t=(r(".iconic-wsb-product-bumps__list-item").each(function(){var t;r(this).find(".iconic-wsb-bump-product__checkbox").prop("checked")&&(t=r(this).find(".iconic-wsb-bump-product__select")).length&&!t.val()&&(i=!1)}),r(".iconic-wsb-bump-product__checkbox:checked").length);i&&t?r(".iconic-wsb-product-bumps__button").removeClass("disabled"):r(".iconic-wsb-product-bumps__button").addClass("disabled")},this.disableFormSubmitForDisabledButton=function(){r("form.cart").click(function(t){r(this).data("clicked",r(t.target))}),r("form.cart").submit(function(t){if(r(this).data("clicked").is("[data-bump-product-form-submit]")&&r(this).find(".iconic-wsb-product-bumps__button").hasClass("disabled"))return t.preventDefault(),!1}),r(".iconic-wsb-product-bumps__button").click(function(){r(this).hasClass("disabled")&&alert(iconic_wsb_frontend_vars.i18n.disabled_add_to_cart)})},this.fetchVariationPrice=function(){var t={action:"iconic_wsb_get_variation_price",variation_id:jQuery(this).val(),_ajax_nonce:iconic_wsb_frontend_vars.nonce},i=this;let c=r(".variations_form").length?".variations_form":".iconic-wsb-product-bumps";r(c).block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),jQuery.post(iconic_wsb_frontend_vars.ajax_url,t,function(t){r(c).unblock(),t.success&&jQuery(i).siblings(".iconic-wsb-bump-product__price").html(t.data.variation_price_html)})},this.updateTotalPrice=function(){var c=[],t=(r(".iconic-wsb-product-bumps__list-item").each(function(){var t,i;r(this).find(".iconic-wsb-bump-product__checkbox").is(":checked")&&("variable"===r(this).data("product_type")?(t=parseInt(r(this).data("product_id")),i=parseInt(r(this).find(".iconic-wsb-bump-product__select").val()),c.push(0<i?i:t)):c.push(r(this).data("product_id")))}),{action:"iconic_wsb_fbt_get_products_price",product_ids:c,offer_product_id:r("[name='iconic-wsb-fbt-this-product']").val(),_ajax_nonce:iconic_wsb_frontend_vars.nonce}),i=r(".iconic-wsb-product-bumps").parents(".variations_form");i.block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),r.post(iconic_wsb_frontend_vars.ajax_url,t,function(t){r(".iconic-wsb-product-bumps__total-price-amount").html(t.html),i.unblock()})},this.variationChangeHandle=function(t,i){var e,a,n;this.variationId=i.variation_id,this.currentProductId=r("form.cart").data("product_id"),this.variationId&&r(".iconic-wsb-bump-product__select--"+this.currentProductId).length&&(e=r(".iconic-wsb-bump-product__select--"+this.currentProductId),a={},r("form.cart .variations select").each(function(){a[r(this).data("attribute_name")]=r(this).find("option:selected").text()}),n=0,r(".iconic-wsb-bump-product__select--"+this.currentProductId+" option").each(function(t){var i,c=r(this).data("attributes"),o=!0;for(i in a)c&&c[i].label===a[i]||(o=!1);o&&(n=t,e.find("option").eq(n).prop("selected",!0),e.change())}))},this.addToCartAjax=function(){r(document.body).on("click","[data-bump-product-form-submit]",function(t){var c,o,i,e,a=r(this);a.prop("disabled")||a.hasClass("disabled")||"1"!==iconic_wsb_frontend_vars.fbt_use_ajax||(c=a.closest(".iconic-wsb-product-bumps"),o=a.closest("form.cart"),i=!0,e=a.data("product-id"),o.length||(i=!1,(o=r("form.cart")).length?(c.find('input[name="iconic-wsb-fbt-this-product"]').clone().appendTo("form.cart"),c.find(".iconic-wsb-bump-product__checkbox:checked").each(function(){var t=r(document.createElement("input")),i=(t.attr("type","hidden"),t.attr("name",r(this).attr("name")),t.val(r(this).val()),t.attr("class",r(this).attr("class")),t.appendTo(o),r(this).closest("label").find('select[name^="iconic-wsb-products-add-to-cart-variation-"]'));(i.length?((t=r(document.createElement("input"))).attr("type","hidden"),t.attr("name",i.attr("name")),t.attr("class",i.attr("class")),t.val(i.val()),t.data(i.data()),t):r(this).closest("label").find('input[name^="iconic-wsb-products-add-to-cart-variation-"]').clone()).appendTo(o),r(this).closest("label").find('input[name^="iconic-wsb-bump-product_attributes-"]').clone().appendTo(o)})):(o=r(document.createElement("form")),r(".iconic-wsb-product-bumps").clone().appendTo(o))),t.preventDefault(),c.block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a.prop("disabled",!0),r(".woocommerce-notices-wrapper").html(""),r.ajax({type:"POST",url:wc_add_to_cart_params.ajax_url,data:o.serialize()+"&iconic-wsb-add-selected=1&action=iconic_wsb_fbt_add_to_cart&post_id="+e,success:function(t){a.text(iconic_wsb_frontend_vars.i18n.success);var i=t.success?"woocommerce-message":"woocommerce-error";r(".woocommerce-notices-wrapper").append('<div class="'+i+'">'+t.message+"</div>"),jQuery.scroll_to_notices(r(".woocommerce-notices-wrapper")),c.unblock(),"yes"===wc_add_to_cart_params.cart_redirect_after_add?window.location=wc_add_to_cart_params.cart_url:r(document.body).trigger("added_to_cart",[t.fragments,t.cart_hash])},error:function(){a.text(iconic_wsb_frontend_vars.i18n.error),c.unblock()},complete:function(){setTimeout(function(){a.prop("disabled",!1).text(iconic_wsb_frontend_vars.i18n.add_selected),i||(r('form.cart input[name="iconic-wsb-fbt-this-product"]').remove(),r("form.cart .iconic-wsb-bump-product__checkbox").remove(),r('form.cart input[name^="iconic-wsb-bump-product_attributes-"]').remove(),r('form.cart select[name^="iconic-wsb-products-add-to-cart-variation-"]').remove())},3e3)}}))})},this.toggleProductImages=function(){r(".iconic-wsb-bump-product__checkbox").change(function(){var t=r(this),i=t.closest(".iconic-wsb-product-bumps__list-item"),c=t.closest(".iconic-wsb-product-bumps"),o=t.val(),e=r(".iconic-wsb-product-bumps__images"),a=r(".iconic-wsb-product-bumps__image"),t=(t.is(":checked")?(i.removeClass("iconic-wsb-product-bumps__list-item--faded"),r(".iconic-wsb-product-bumps__image[data-product-id="+o+"]").show()):(i.addClass("iconic-wsb-product-bumps__list-item--faded"),r(".iconic-wsb-product-bumps__image[data-product-id="+o+"]").hide()),c.find(".iconic-wsb-product-bumps__image:visible:last")),i=(a.removeClass("iconic-wsb-product-bumps__image--no-plus"),t.addClass("iconic-wsb-product-bumps__image--no-plus"),!e.is(":visible")||0<t.length);e.toggle(i)}),r(".iconic-wsb-bump-product__checkbox").trigger("change")}};r(document).ready(function(){c.init(),t.init()}),r(document).on("added_to_cart",function(t,i){i&&window.wc_cart_fragments_params&&wc_cart_fragments_params.fragment_name&&(c.init(),i[".iconic_wsb_after_add_to_cart_popup_placeholder"]=void 0,i[".woocommerce-notices-wrapper"]=void 0,sessionStorage.setItem(wc_cart_fragments_params.fragment_name,JSON.stringify(i)))})});var IconicVariationHandler=function(t,i,o,e){this.$form=t,this.container_selector=i,this.getVariation=function(){var t,i=this,c=i.$form.find(".iconic-wsb__variation_id");c.length<=0||(i.checkAllSelects()?(i.$attributeFields=jQuery(i.container_selector).find(".iconic-wsb-variation__select"),t=i.getChosenAttributes().data,(i.$form.hasClass("iconic-wsb-after-checkout-bump-form")?jQuery("[name='iconic-wsb-acb-variation-data']"):jQuery("[name='iconic-wsb-checkout-variation-data']")).val(JSON.stringify(t)),t.product_id=parseInt(jQuery(i.container_selector).find(".iconic-wsb__product_id").val()),t.action="iconic_wsb_checkout_get_variation",t.bump_id=jQuery(i.container_selector).find(".iconic-wsb__bump_id").val(),t._ajax_nonce=iconic_wsb_frontend_vars.nonce,i.showLoader(),i.xhr=jQuery.ajax({url:iconic_wsb_frontend_vars.ajax_url,type:"POST",data:t,success:function(t){t&&(i.$form.find("#iconic-wsb-checkout-bump-variation").val(t.variation_id),i.$form.find(".iconic-wsb-checkout-bump__price_span").html(t.price_html),t.is_purchasable)&&t.is_in_stock&&t.variation_is_visible?(o(t),c.val(t.variation_id)):(e(),c.val("")),i.hideLoader()},complete:function(){i.hideLoader()}}),i.$form.find("[data-iconic-wsb-acb-add-to-cart-button] , [data-iconic-wsb-checkout-bump-trigger]").attr("disabled",!1)):i.$form.find("[data-iconic-wsb-acb-add-to-cart-button], [data-iconic-wsb-checkout-bump-trigger]").attr("disabled",!0))},this.checkAllSelects=function(){var t=this;return t.allVariationSelectedFlag=!0,jQuery(t.container_selector).find(".iconic-wsb-variation__select").each(function(){jQuery(this).val()?jQuery(this).closest("tr").removeClass("iconic-wsb-variation-tr-valdation-error"):(t.allVariationSelectedFlag=!1,jQuery(this).closest("tr").addClass("iconic-wsb-variation-tr-valdation-error"))}),t.allVariationSelectedFlag},this.getChosenAttributes=function(){var c={},o=0,e=0;return this.$attributeFields.each(function(){var t=jQuery(this).data("attribute_name")||jQuery(this).attr("name"),i=jQuery(this).val()||"";0<i.length&&e++,o++,c[t]=i}),{count:o,chosenCount:e,data:c}},this.showLoader=function(){this.$form.block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},this.hideLoader=function(){this.$form.unblock()}};